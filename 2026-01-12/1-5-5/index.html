<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<script>
			function orderPizza(menu) {
				console.log(menu + " 주문 접수 중...");

				return new Promise((resolve, reject) => {
					setTimeout(() => {
						// 랜덤 실패(재료 소진)
						if (Math.random() < 0.3) {
							reject(new Error("재료 소진"));
							return;
						}

						resolve(menu + " 준비 완료!");
					}, 1000); // 1초 뒤 결과
				});
			}

			// 2. 키오스크 메인 로직
			async function kiosk() {
				console.log("=== 키오스크 가동 ===");

				try {
					const result = await orderPizza("페퍼로니");
					console.log(result);
					console.log("맛있게 드세요!");
				} catch (err) {
					console.log("죄송합니다, 재료가 소진되었습니다!");
				} finally {
					console.log("이용해 주셔서 감사합니다!");
				}
			}

			kiosk();
		</script>
	</body>
</html>
